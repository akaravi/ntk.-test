<div class="cms-m-body">


  <!-- mobile -->
  <ng-container *ngIf="stepContent === 'mobile'">
    <div class="cms-m-container">
      <div class="cms-m-filter">
        <div class="cms-m-container-header">
          <div class="cms-m-form-label">
            برای ثبت سفارش، ابتدا شماره تلفن همراه خود را وارد نمایید.
          </div>
          <div>
            <label class="cms-m-form-label"> شماره تلفن همراه </label>
            <input type="text" [(ngModel)]="dataModel.contactMobiles" name="dataModel.contactMobiles" autocomplete="off"
              #contactMobiles class="cms-m-form-input" maxlength="11" placeholder="09120000000"
              pattern="09[0-9]{2}[0-9]{3}[0-9]{4}" />
            <div class="cms-m-form-label"
              *ngIf="dataModel?.contactMobiles?.length>0 && !regeMobile.test(dataModel.contactMobiles)">
              فرمت شماره همراه صحیح نمی باشد
            </div>
          </div>
        </div>
        <div class="cms-m-container-footer">
          <button (click)="onFormCancel()"
            class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
            </svg>
            <span>{{'ACTION.CANCEL' | translate}}</span>
          </button>
          <button *ngIf="dataModel?.contactMobiles?.length>0 && regeMobile.test(dataModel.contactMobiles)"
            (click)="onActoinSelectStepNext('orderType')" class="cms-m-button">
            <span>بعدی</span>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
            </svg>
          </button>
        </div>
      </div>
    </div>
  </ng-container>
  <!-- mobile -->


  <!-- ordertype -->
  <ng-container *ngIf="stepContent === 'orderType'">
    <div class="cms-m-container">
      <div class="cms-m-filter">
        <div class="cms-m-container-header overflow-y">
          <div class="cms-m-form-label">
            لطفا درخواست خود را مشخص نمایید.
          </div>
          <div *ngIf="dataModelContractTypeResult?.listItems.length>0">
            <button *ngFor="let state of dataModelContractTypeResult.listItems " type="button"
              class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight"
              [class]="state.id===dataModel.linkContractTypeId ? 'background-blue' : 'background-white'"
              (click)="onActionSelectorContarctType(state)">{{ state.orderTitle }}</button>
          </div>
        </div>
        <div class="cms-m-container-footer margin-top">
          <button (click)="onActoinSelectStepBefor('mobile')" class="cms-m-button">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
            </svg>
            <span>قبلی</span>
          </button>
          <button *ngIf="dataModel?.linkContractTypeId?.length>0"
            (click)="onActoinSelectStepNext('selectPropertyTypeUsage')" class="cms-m-button">
            <span>بعدی</span>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
            </svg>
          </button>
        </div>
      </div>
    </div>
  </ng-container>
  <!-- ordertype -->


  <!-- selectPropertyTypeUsage -->
  <ng-container *ngIf="stepContent === 'selectPropertyTypeUsage'">
    <div class="cms-m-container">
      <div class="cms-m-filter">
        <div class="cms-m-container-header overflow-y">
          <div class="cms-m-form-label">
            لطفا نوع کاربری ملک خود را مشخص نمایید.
          </div>
          <div *ngIf="dataModelPropertyTypeUsageResult?.listItems.length>0">
            <button *ngFor="let state of dataModelPropertyTypeUsageResult.listItems " type="button"
              class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight"
              class="cms-m-form-option"
              [class]="state.id===dataModel.linkPropertyTypeUsageId ? 'background-blue' : 'background-white'"
              (click)="dataModel.linkPropertyTypeUsageId=state.id;this.DataGetAllPropertyTypeLanduse();">{{ state.title
              }}</button>
          </div>
        </div>

        <div class="cms-m-container-footer margin-top">
          <button (click)="onActoinSelectStepBefor('orderType')" class="cms-m-button">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
            </svg>
            <span>قبلی</span>
          </button>
          <button *ngIf="dataModel?.linkPropertyTypeUsageId?.length>0"
            (click)="onActoinSelectStepNext('selectPropertyTypeLanduse');" class="cms-m-button">
            <span>بعدی</span>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
            </svg>
          </button>
        </div>
      </div>
    </div>
  </ng-container>
  <!-- selectPropertyTypeUsage -->


  <!-- selectPropertyTypeLanduse -->
  <ng-container *ngIf="stepContent === 'selectPropertyTypeLanduse'">
    <div class="cms-m-container">
      <div class="cms-m-filter">
        <div class="cms-m-container-header overflow-y">
          <div class="cms-m-form-label">
            لطفا نوع ملک خود را مشخص نمایید.
          </div>
          <div *ngIf="dataModelPropertyTypeLanduseResult?.listItems.length>0">
            <button *ngFor="let state of dataModelPropertyTypeLanduseResult.listItems " type="button"
              class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-highlight"
              class="cms-m-form-option"
              [class]="state.id===dataModel.linkPropertyTypeLanduseId ? 'background-blue' : 'background-white'"
              (click)="onActionSelectorSelectLanduse(state)">{{ state.title }}</button>
          </div>
        </div>
        <div class="cms-m-container-footer margin-top">
          <button (click)="onActoinSelectStepBefor('selectPropertyTypeUsage')" class="cms-m-button">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
            </svg>
            <span>قبلی</span>
          </button>
          <button *ngIf="dataModel?.linkPropertyTypeLanduseId?.length>0" (click)="onActoinSelectStepNext('selectYear')"
            class="cms-m-button">
            <span>بعدی</span>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
            </svg>
          </button>
        </div>
      </div>
    </div>
  </ng-container>
  <!-- selectPropertyTypeLanduse -->


  <!-- selectyear -->
  <ng-container *ngIf="stepContent === 'selectYear'">
    <div class="cms-m-container">
      <div class="cms-m-filter">
        <div class="cms-m-container-header overflow-y">
          <label class="cms-m-form-label">متراژ</label>
          <input type="number" [(ngModel)]="dataModel.area" name="dataModel.area" class="cms-m-form-input"
            autocomplete="off" />
          <label *ngIf="this.PropertyTypeSelected?.createdYearActive" class="cms-m-form-label">سال
            ساخت
          </label>
          <select *ngIf="this.PropertyTypeSelected?.createdYearActive" [(ngModel)]="dataModel.createdYaer"
            name="dataModel.createdYaer" class="cms-m-form-input">
            <option value="1402">1402</option>
            <option value="1401">1401</option>
            <option value="1400">1400</option>
            <option value="1399">1399</option>
            <option value="1398">1398</option>
            <option value="1397">1397</option>
            <option value="1396">1396</option>
            <option value="1395">1395</option>
            <option value="1394">1394</option>
            <option value="1393">1393</option>
            <option value="1392">1392</option>
            <option value="1391">1391</option>
            <option value="1390">1390</option>
          </select>
          <label *ngIf="this.PropertyTypeSelected?.partitionActive"
            class="cms-m-form-label">{{this.PropertyTypeSelected?.titlePartitionML}}</label>
          <input *ngIf="this.PropertyTypeSelected?.partitionActive" type="number" [(ngModel)]="dataModel.partition"
            name="dataModel.partition" class="cms-m-form-input" autocomplete="off" />
        </div>

        <div class="cms-m-container-footer margin-top">
          <button (click)="onActoinSelectStepBefor('selectPropertyTypeLanduse')" class="cms-m-button">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
            </svg>
            <span>قبلی</span>
          </button>
          <button (click)="onActoinSelectStepNext('selectLocation')" class="cms-m-button">
            <span>بعدی</span>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
            </svg>
          </button>
        </div>
      </div>
    </div>
  </ng-container>
  <!-- selectyear -->

  <!-- selectlocation -->
  <ng-container *ngIf="stepContent === 'selectLocation'">
    <div class="cms-m-container">
      <div class="cms-m-filter">
        <div class="cms-m-container-header overflow-y">
          <div class="cms-m-form-label">
            لطفا منطقه مورد نظر خود را مشخص کنید.
          </div>
          <div>
            <label class="cms-m-form-label">{{'TITLE.Geographical_Areas' | translate}} :</label>
            <app-cms-location-autocomplete (optionChange)="onActionSelectorLocation($event)" [(optionLoading)]="loading"
              [optionSelectForce]="dataModel.linkLocationIds"
              [optionPlaceholder]="this.translate.instant('TITLE.Region')"
              [optionCssClassInputText]="'cms-m-form-input'">
            </app-cms-location-autocomplete>
          </div>
        </div>
        <div class="cms-m-container-footer margin-top">
          <button (click)="onActoinSelectStepBefor('selectYear')" class="cms-m-button">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
            </svg>
            <span>قبلی</span>
          </button>
          <button (click)="onActoinSelectStepNext('result1')" class="cms-m-button">
            <span>بعدی</span>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
            </svg>
          </button>
        </div>
      </div>
    </div>
  </ng-container>
  <!-- selectlocation -->


  <!-- result1 -->
  <ng-container *ngIf="stepContent === 'result1'">
    <div class="cms-m-container">
      <div class="cms-m-filter">
        <div class="cms-m-container-header" style="height: 70%;">
          <div class="cms-m-form-label">نتیجه</div>
          <div class="cms-m-form-label">تعداد ملک انتخابی شما :
            {{this.dataModelEstatePropertyResult.totalRowCount}}
          </div>
          <div *ngIf="dataModelEstatePropertyResult?.listItems?.length>0" class="cms-form-result">
            <ng-container [ngTemplateOutletContext]="{$implicit: dataModelEstatePropertyResult.listItems}"
              [ngTemplateOutlet]="estateTemplate">
            </ng-container>
          </div>
        </div>
        <mat-slide-toggle *ngIf="allowActionSend" [(ngModel)]="dataModelActionSend.actionSendSmsToEstateCustomer"
          name="dataModelActionSend.actionSendSmsToEstateCustomer" class="cms-m-actionsend">
          {{'ACTION.SEND_TO_CLIENT' | translate}}
        </mat-slide-toggle>
        <div class="cms-m-container-footer margin-bottom">
          <button (click)="onActoinSelectStepBefor('selectLocation')" class="cms-m-button">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
            </svg>
            <span>قبلی</span>
          </button>
          <button (click)="onActoinSubmit(true)" class="cms-m-button">
            ثبت
          </button>
          <button (click)="onActoinSelectStepNext('selectPrice')" class="cms-m-button">
            <span>بعدی</span>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
            </svg>
          </button>
        </div>
      </div>
    </div>
  </ng-container>
  <!-- result1 -->


  <!-- selectprice -->
  <ng-container *ngIf="stepContent === 'selectPrice'">
    <div class="cms-m-container">
      <div class="cms-m-filter">
        <div class="cms-m-container-header overflow-y">
          <div class="cms-m-form-label">لطفا قیمت ملک خود را وارد نمایید.</div>
          <div>

            <!-- SalePriceMin Field -->
            <label *ngIf=" contractTypeSelected?.hasSalePrice"
              class="cms-m-form-label">{{contractTypeSelected.titleSalePriceML}} {{'TITLE.Minimum'
              |translate}}</label>
            <input *ngIf=" contractTypeSelected?.hasSalePrice" class="cms-m-form-input"
              [(ngModel)]="dataModel.salePriceMin" name="dataModel.salePriceMin" #SalePriceMin type="text"
              autocomplete="off" currencyMask />

            <!-- RentPriceMin Field -->
            <label *ngIf=" contractTypeSelected?.hasRentPrice"
              class="cms-m-form-label">{{contractTypeSelected.titleRentPriceML}}
              {{'TITLE.Minimum' |
              translate}}</label>
            <input *ngIf=" contractTypeSelected?.hasRentPrice" class="cms-m-form-input"
              [(ngModel)]="dataModel.rentPriceMin" name="dataModel.rentPriceMin" #RentPriceMin type="text"
              autocomplete="off" currencyMask />

            <!-- DepositPriceMin Field -->
            <label *ngIf="contractTypeSelected?.hasDepositPrice"
              class="cms-m-form-label">{{contractTypeSelected.titleDepositPriceML}}
              {{'TITLE.Minimum' |
              translate}}</label>
            <input *ngIf="contractTypeSelected?.hasDepositPrice" class="cms-m-form-input"
              [(ngModel)]="dataModel.depositPriceMin" name="dataModel.depositPriceMin" #DepositPriceMin type="text"
              autocomplete="off" currencyMask />
            <!-- PeriodPriceMin Field -->
            <label *ngIf=" contractTypeSelected?.hasDepositPrice"
              class="cms-m-form-label">{{contractTypeSelected.titlePeriodPriceML}}
              {{'TITLE.Minimum' |
              translate}}</label>
            <input *ngIf=" contractTypeSelected?.hasDepositPrice" class="cms-m-form-input"
              [(ngModel)]="dataModel.periodPriceMin" name="dataModel.periodPriceMin" #PeriodPriceMin type="text"
              autocomplete="off" currencyMask />

            <!-- SalePriceMax Field -->
            <label *ngIf="contractTypeSelected?.hasSalePrice" class="cms-m-form-label">
              {{contractTypeSelected.titleSalePriceML}}
              {{'TITLE.Maximum' |
              translate}}</label>
            <input *ngIf="contractTypeSelected?.hasSalePrice" class="cms-m-form-input"
              [(ngModel)]="dataModel.salePriceMax" name="dataModel.salePriceMax" #SalePriceMax type="text"
              autocomplete="off" currencyMask />

            <!-- RentPriceMax Field -->
            <label *ngIf=" contractTypeSelected?.hasRentPrice"
              class="cms-m-form-label">{{contractTypeSelected.titleRentPriceML}}
              {{'TITLE.Maximum' |
              translate}}</label>
            <input *ngIf=" contractTypeSelected?.hasRentPrice" class="cms-m-form-input"
              [(ngModel)]="dataModel.rentPriceMax" name="dataModel.rentPriceMax" #RentPriceMax type="text"
              autocomplete="off" currencyMask />

            <!-- DepositPriceMax Field -->
            <label *ngIf=" contractTypeSelected?.hasDepositPrice"
              class="cms-m-form-label">{{contractTypeSelected.titleDepositPriceML}}
              {{'TITLE.Maximum' |
              translate}}</label>
            <input *ngIf=" contractTypeSelected?.hasDepositPrice" class="cms-m-form-input"
              [(ngModel)]="dataModel.depositPriceMax" name="dataModel.depositPriceMax" #DepositPriceMax type="text"
              autocomplete="off" currencyMask />

            <!-- PeriodPriceMax Field -->
            <label *ngIf=" contractTypeSelected?.hasDepositPrice"
              class="cms-m-form-label">{{contractTypeSelected.titlePeriodPriceML}}
              {{'TITLE.Maximum' |
              translate}}</label>
            <input *ngIf=" contractTypeSelected?.hasDepositPrice" class="cms-m-form-input"
              [(ngModel)]="dataModel.periodPriceMax" name="dataModel.periodPriceMax" #PeriodPriceMax type="text"
              autocomplete="off" currencyMask />
          </div>
        </div>
        <div class="cms-m-container-footer margin-top">
          <button (click)="onActoinSelectStepBefor('selectLocation')" class="cms-m-button">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
            </svg>
            <span>قبلی</span>
          </button>
          <button (click)="onActoinSelectStepNext('result2')" class="cms-m-button">
            <span>بعدی</span>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
            </svg>
          </button>
        </div>
      </div>
    </div>
  </ng-container>
  <!-- selectprice -->

  <!-- result2 -->
  <ng-container *ngIf="stepContent === 'result2'">
    <div class="cms-m-container">
      <div class="cms-m-filter">
        <div class="cms-m-container-header" style="height: 70%;">
          <div class="cms-m-form-label">نتیجه</div>
          <div class="cms-m-form-label">تعداد ملک انتخابی شما : {{this.dataModelEstatePropertyResult
            .totalRowCount}}
          </div>
          <div *ngIf="dataModelEstatePropertyResult?.listItems?.length>0" class="cms-form-result">
            <ng-container [ngTemplateOutletContext]="{$implicit: dataModelEstatePropertyResult.listItems}"
              [ngTemplateOutlet]="estateTemplate">
            </ng-container>
          </div>
        </div>
        <mat-slide-toggle *ngIf="allowActionSend" [(ngModel)]="dataModelActionSend.actionSendSmsToEstateCustomer"
          name="dataModelActionSend.actionSendSmsToEstateCustomer" class="cms-m-actionsend">
          {{'ACTION.SEND_TO_CLIENT' | translate}}
        </mat-slide-toggle>
        <div class="cms-m-container-footer margin-bottom">
          <button (click)="onActoinSelectStepBefor('selectprice')" class="cms-m-button">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
            </svg>
            <span>قبلی</span>
          </button>
          <button (click)="onActoinSubmit(true)" class="cms-m-button">
            ثبت
          </button>
          <button (click)="onActoinSelectStepNext('detail')" class="cms-m-button">
            <span>بعدی</span>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
            </svg>
          </button>
        </div>
      </div>
    </div>
  </ng-container>
  <!-- result2 -->



  <!-- detail -->
  <ng-container *ngIf="stepContent === 'detail'">
    <div class="cms-m-container">
      <div class="cms-m-filter">
        <div class="cms-m-container-header overflow-y">
          <div class="cms-m-form-label">لطفا جزئیات ملک خود را وارد نمایید.</div>
          <div>


            <!-- propertyDetailGroups Field -->
            <mat-accordion class="example-headers-align">
              <mat-expansion-panel *ngFor="let itemGroup of dataModel.propertyDetailGroups ; index as i"
                [expanded]="step === i" (opened)="setStep(i)">
                <mat-expansion-panel-header>
                  <mat-panel-title>
                    {{itemGroup.title}}
                  </mat-panel-title>
                  <mat-panel-description>
                    {{itemGroup.description}}
                    <mat-icon style="width: 100px;">{{itemGroup.iconFont}}</mat-icon>
                  </mat-panel-description>
                </mat-expansion-panel-header>
                <!-- value-->
                <ng-container *ngFor="let itemDetail of itemGroup.propertyDetails">
                  <ng-container [ngSwitch]="itemDetail.inputDataType">
                    <!-- ngSwitchCase-->
                    <div *ngSwitchCase="enumInputDataType.String" class="ntk-full-width">
                      <i [ngClass]="itemDetail.iconFont" [style.color]="itemDetail.iconColor"
                        aria-hidden="true"></i>&nbsp;
                      <app-input-string [(model)]="propertyDetails[itemDetail.id]"
                        [optionForceUseDefaultValue]="itemDetail.configValueForceUseDefaultValue"
                        [optionMultipleChoice]="itemDetail.configValueMultipleChoice"
                        [optionDefaultValue]="itemDetail.configValueDefaultValues"
                        [optionRequired]="itemDetail.required" [optionLabel]="itemDetail.title"
                        style="color:'{{itemDetail.iconColor}}';">
                      </app-input-string>
                    </div>
                    <!-- ngSwitchCase-->
                    <div *ngSwitchCase="enumInputDataType.Int" class="ntk-full-width">
                      <i [ngClass]="itemDetail.iconFont" [style.color]="itemDetail.iconColor"
                        aria-hidden="true"></i>&nbsp;
                      <app-input-int [(model)]="propertyDetails[itemDetail.id]" [optionRequired]="itemDetail.required"
                        [optionLabel]="itemDetail.title" style="color:'{{itemDetail.iconColor}}';">
                      </app-input-int>
                    </div>
                    <!-- ngSwitchCase-->
                    <div *ngSwitchCase="enumInputDataType.Boolean" class="ntk-full-width">
                      <i [ngClass]="itemDetail.iconFont" [style.color]="itemDetail.iconColor"
                        aria-hidden="true"></i>&nbsp;
                      <app-input-boolean [(model)]="propertyDetails[itemDetail.id]">{{itemDetail.title}}
                      </app-input-boolean>
                    </div>
                    <!-- ngSwitchCase-->
                    <div *ngSwitchCase="enumInputDataType.Float" class="ntk-full-width">
                      <i [ngClass]="itemDetail.iconFont" [style.color]="itemDetail.iconColor"
                        aria-hidden="true"></i>&nbsp;
                      <app-input-float [(model)]="propertyDetails[itemDetail.id]" [optionRequired]="itemDetail.required"
                        [optionLabel]="itemDetail.title" style="color:'{{itemDetail.iconColor}}';">
                      </app-input-float>
                    </div>
                    <!-- ngSwitchCase-->
                    <div *ngSwitchCase="enumInputDataType.Date" class="ntk-full-width">
                      <i [ngClass]="itemDetail.iconFont" [style.color]="itemDetail.iconColor"
                        aria-hidden="true"></i>&nbsp;
                      <label style="color:'{{itemDetail.iconColor}}';">{{itemDetail.title}}</label>
                      <app-input-date [(model)]="propertyDetails[itemDetail.id]" [optionRequired]="itemDetail.required">
                      </app-input-date>
                    </div>
                    <!-- ngSwitchCase-->
                    <div *ngSwitchCase="enumInputDataType.TextArea" class="ntk-full-width">
                      <i [ngClass]="itemDetail.iconFont" [style.color]="itemDetail.iconColor"
                        aria-hidden="true"></i>&nbsp;
                      <app-input-textarea [(model)]="propertyDetails[itemDetail.id]"
                        [optionRequired]="itemDetail.required" [optionLabel]="itemDetail.title"
                        style="color:'{{itemDetail.iconColor}}';">
                      </app-input-textarea>
                    </div>
                    <!-- ngSwitchCase-->
                    <div *ngSwitchDefault class="ntk-full-width">
                      <i [ngClass]="itemDetail.iconFont" [style.color]="itemDetail.iconColor"
                        aria-hidden="true"></i>&nbsp;
                      <app-input-string [(model)]="propertyDetails[itemDetail.id]"
                        [optionForceUseDefaultValue]="itemDetail.configValueForceUseDefaultValue"
                        [optionMultipleChoice]="itemDetail.configValueMultipleChoice"
                        [optionDefaultValue]="itemDetail.configValueDefaultValues"
                        [optionRequired]="itemDetail.required" [optionLabel]="itemDetail.title"
                        style="color:'{{itemDetail.iconColor}}';">
                      </app-input-string>
                    </div>
                  </ng-container>
                </ng-container>
                <mat-action-row>
                  <button type="button"
                    class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-teal" *ngIf="i>0"
                    (click)="prevStep()">{{'ACTION.PREVIOUS' |
                    translate}}</button>
                  <button type="button"
                    class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue"
                    *ngIf="(i+1)<dataModel.propertyDetailGroups.length" (click)="nextStep()">{{'ACTION.NEXT' |
                    translate}}</button>
                  <button type="button"
                    class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-blue"
                    *ngIf="(i+1)===dataModel.propertyDetailGroups.length" (click)="nextStep()">{{'ACTION.END' |
                    translate}}</button>

                </mat-action-row>
              </mat-expansion-panel>
              <br>

            </mat-accordion>
          </div>
        </div>
        <div class="cms-m-container-footer margin-top">
          <button (click)="onActoinSelectStepBefor('detail')" class="cms-m-button">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
            </svg>
            <span>قبلی</span>
          </button>
          <button (click)="onActoinSelectStepNext('result3')" class="cms-m-button">
            <span>بعدی</span>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
            </svg>
          </button>
        </div>
      </div>
    </div>
  </ng-container>
  <!-- detail -->

  <!-- result3 -->
  <ng-container *ngIf="stepContent === 'result3'">
    <div class="cms-m-container">
      <div class="cms-m-filter">
        <div class="cms-m-container-header" style="height: 70%;">
          <div class="cms-m-form-label">نتیجه</div>
          <div class="cms-m-form-label">تعداد ملک انتخابی شما : {{this.dataModelEstatePropertyResult
            .totalRowCount}}
          </div>
          <div *ngIf="dataModelEstatePropertyResult?.listItems?.length>0" class="cms-form-result">
            <ng-container [ngTemplateOutletContext]="{$implicit: dataModelEstatePropertyResult.listItems}"
              [ngTemplateOutlet]="estateTemplate">
            </ng-container>
          </div>
        </div>
        <mat-slide-toggle *ngIf="allowActionSend" [(ngModel)]="dataModelActionSend.actionSendSmsToEstateCustomer"
          name="dataModelActionSend.actionSendSmsToEstateCustomer" class="cms-m-actionsend">
          {{'ACTION.SEND_TO_CLIENT' | translate}}
        </mat-slide-toggle>
        <div class="cms-m-container-footer margin-bottom">
          <button (click)="onActoinSelectStepBefor('detail')" class="cms-m-button">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
            </svg>
            <span>قبلی</span>
          </button>
          <button (click)="onActoinSubmit(true)" class="cms-m-button">
            ثبت
          </button>
        </div>
      </div>
    </div>
  </ng-container>
  <!-- result3 -->


</div>



<ng-template let-listItem #estateTemplate>
  <div style="width: 100%;" *ngFor="let item of listItem">
    <table (click)="onActionButtonQuickViewRow(item)">
      <tr *ngIf="item?.title?.length>0">
        <td colspan="2"> {{item.title}}</td>
      </tr>
      <tr>
        <td colspan="1">مساحت:{{item.area}} </td>
        <td colspan="1">اتاق:{{item.partition}} </td>
      </tr>
      <tr *ngIf="item?.createdDate?.length>0">
        <td colspan="2">ثبت: {{publicHelper.LocaleDateTime(item.createdDate)}} </td>
      </tr>
      <tr *ngIf="item?.propertyTypeLanduse?.title?.length>0">
        <td colspan="2">نوع ملک:{{item.propertyTypeLanduse.title}}
        </td>
      </tr>
    </table>
  </div>
</ng-template>