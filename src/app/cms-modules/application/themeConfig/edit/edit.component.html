<app-progress-spinner [options]="loading"> </app-progress-spinner>
<div class="card card-style">
  <div class="content mb-0">
    <p class="mb-0 color-highlight font-600 font-12">
      {{ formInfo.formTitle }}
    </p>


    <p>
      {{'TITLE.Be_Careful_When_Entering_Information' | translate}}
    </p>
    <!--Content-->
    <form (ngSubmit)="onFormSubmit()" #vform="ngForm">

      <!--begin:::::::::::::::::::::::::::::::::::::::::cms-body-->
      <!-- RecordStatus Field -->
      <app-cms-enum-record-status-selector *ngIf="fieldsInfo['recordStatus']?.accessWatchField"
        [(model)]="dataModel.recordStatus" [optionDisabled]="false"
        [optionLabel]="this.fieldsInfo['recordStatus']?.fieldTitle" [optionRequired]="true"
        [optionSelectFirstItem]="true"></app-cms-enum-record-status-selector>
      <!-- Title Field -->
      <div *ngIf="fieldsInfo['title']?.accessWatchField"
        class="input-style has-borders no-icon input-style-always-active validate-field mb-4">
        <label for="dataModel.title" class="color-highlight">{{ fieldsInfo["title"]?.fieldTitle }}</label>
        <input matInput type="text" [(ngModel)]="dataModel.title" name="dataModel.title" #Title type="text"
          placeholder="{{fieldsInfo['title']?.fieldTitle }}" minlength="3" maxlength="100" required
          [disabled]="!fieldsInfo['description']?.accessEditField" class="form-control validate-name"
          id="dataModel.title" />
        <em>{{ Title.value.length }} / 100</em>
        <mat-error *ngIf="Title.errors?.required">
          Title is <strong>{{'MESSAGE.required' | translate}}</strong>
        </mat-error>
      </div>
      <!-- TitleResourceLanguage Field -->
      <div class="input-style has-borders no-icon input-style-always-active validate-field mb-4">
        <label for="dataModel.titleResourceLanguage" class="color-highlight">{{
          fieldsInfo["titleResourceLanguage"]?.fieldTitle }}</label>
        <input matInput type="text" [(ngModel)]="dataModel.titleResourceLanguage" name="dataModel.titleResourceLanguage"
          #TitleResourceLanguage placeholder="{{fieldsInfo['titleResourceLanguage']?.fieldTitle }}" minlength="3"
          maxlength="100" class="form-control validate-name" id="dataModel.titleResourceLanguage" />
        <em>{{ TitleResourceLanguage.value.length }} / 100</em>
        <mat-error *ngIf="TitleResourceLanguage.errors?.required">
          TitleResourceLanguage is <strong>{{'MESSAGE.required' | translate}}</strong>
        </mat-error>
      </div>
      <!-- LinkSourceId Field -->
      <app-application-source-selector (optionChange)="onActionSelectSource($event)" [(optionLoading)]="loading"
        [optionDisabled]="!fieldsInfo['linkSourceId']?.accessEditField" [optionSelectForce]="dataModel.linkSourceId"
        [optionPlaceholder]="'TITLE.Application_Source' | translate">
      </app-application-source-selector>
      <!-- TypeId Field -->
      <div *ngIf="fieldsInfo['typeId']?.accessWatchField"
        class="input-style has-borders no-icon input-style-always-active validate-field mb-4">
        <label for="dataModel.typeId" class="color-highlight">{{
          fieldsInfo['typeId']?.fieldTitle }}</label>
        <input matInput [(ngModel)]="dataModel.typeId" [disabled]="!fieldsInfo['typeId']?.accessEditField"
          name="dataModel.typeId" #TypeId type="text" placeholder="Type Id" minlength="0" maxlength="100"
          class="form-control validate-name" id="dataModel.typeId" />
        <em>{{ TypeId.value.length }} / 100</em>
      </div>
      <!-- ThemeConfigBuilderJsonValues Field -->
      <div *ngIf="fieldsInfo['themeConfigBuilderJsonValues']?.accessWatchField"
        class="input-style has-borders no-icon input-style-always-active validate-field mb-4">
        <label for="dataModel.themeConfigBuilderJsonValues" class="color-highlight">{{
          fieldsInfo['themeConfigBuilderJsonValues']?.fieldTitle }}</label>
        <textarea matInput [(ngModel)]="dataModel.themeConfigBuilderJsonValues"
          [disabled]="!fieldsInfo['themeConfigBuilderJsonValues']?.accessAddField"
          name="dataModel.themeConfigBuilderJsonValues" #ThemeConfigBuilderJsonValues type="text"
          placeholder="ThemeConfigBuilderJsonValues" row="6" minlength="0" maxlength="100000"
          class="form-control validate-name" id="dataModel.themeConfigBuilderJsonValues"></textarea>
        <em>{{ ThemeConfigBuilderJsonValues.value.length }} / 100000</em>
      </div>
      <!-- ThemeConfigRuntimeJsonValues Field -->
      <div *ngIf="fieldsInfo['themeConfigRuntimeJsonValues']?.accessWatchField"
        class="input-style has-borders no-icon input-style-always-active validate-field mb-4">
        <label for="dataModel.themeConfigRuntimeJsonValues" class="color-highlight">{{
          fieldsInfo['themeConfigRuntimeJsonValues']?.fieldTitle }}</label>
        <textarea matInput [(ngModel)]="dataModel.themeConfigRuntimeJsonValues"
          [disabled]="!fieldsInfo['themeConfigRuntimeJsonValues']?.accessAddField"
          name="dataModel.themeConfigRuntimeJsonValues" #ThemeConfigRuntimeJsonValues type="text"
          placeholder="ThemeConfigRuntimeJsonValues" row="6" minlength="0" maxlength="100000"
          class="form-control validate-name" id="dataModel.themeConfigRuntimeJsonValues"></textarea>
        <em>{{ ThemeConfigRuntimeJsonValues.value.length }} / 100000</em>
      </div>
      <!-- ThemeConfigLayoutJsonValues Field -->
      <div *ngIf="fieldsInfo['themeConfigLayoutJsonValues']?.accessWatchField"
        class="input-style has-borders no-icon input-style-always-active validate-field mb-4">
        <label for="dataConfigAdminMainModel.imageThumbnailSizeHeight" class="color-highlight">{{
          fieldsInfo['themeConfigLayoutJsonValues']?.fieldTitle }}</label>
        <textarea matInput [(ngModel)]="dataModel.themeConfigLayoutJsonValues"
          [disabled]="!fieldsInfo['themeConfigLayoutJsonValues']?.accessAddField"
          name="dataModel.themeConfigLayoutJsonValues" #ThemeConfigLayoutJsonValues type="text"
          placeholder="ThemeConfigLayoutJsonValues" row="6" minlength="0" maxlength="100000"
          class="form-control validate-name" id="dataModel.themeConfigLayoutJsonValues"></textarea>
        <em>{{ ThemeConfigLayoutJsonValues.value.length }} / 100000</em>
      </div>
      <!-- ThemeConfigJsonValues Field -->
      <div *ngIf="fieldsInfo['themeConfigJsonValues']?.accessWatchField"
        class="input-style has-borders no-icon input-style-always-active validate-field mb-4">
        <label for="dataConfigAdminMainModel.imageThumbnailSizeHeight" class="color-highlight">{{
          fieldsInfo['themeConfigJsonValues']?.fieldTitle }}</label>
        <textarea matInput [(ngModel)]="dataModel.themeConfigJsonValues"
          [disabled]="!fieldsInfo['themeConfigJsonValues']?.accessAddField" name="dataModel.themeConfigJsonValues"
          #ThemeConfigJsonValues type="text" placeholder="ThemeConfigJsonValues" row="6" minlength="0"
          maxlength="100000" class="form-control validate-name"
          id="dataConfigAdminMainModel.imageThumbnailSizeHeight"></textarea>
        <em>{{ ThemeConfigJsonValues.value.length }} / 100000</em>
      </div>
      <!-- LinkMainImageId Field -->
      <div class="mb-3">
        <a href="{{dataModel.linkMainImageIdSrc | cmsthumbnail}}" target="_blank">
          <img *ngIf="dataModel?.linkMainImageIdSrc?.length>0" style="vertical-align:middle;" class="ntk-hover-zoom"
            aria-hidden src="{{dataModel.linkMainImageIdSrc | cmsthumbnail}}" height="50" width="50" />
        </a>
      </div>
      <div class="input-style has-borders no-icon input-style-always-active validate-field mb-4">
        <label for="dataModel.linkMainImageId" class="color-highlight">{{'TITLE.PHOTO_FILE' | translate}}</label>
        <input matInput [(ngModel)]="dataModel.linkMainImageId" name="dataModel.linkMainImageId" #LinkMainImageId
          type="text" placeholder="{{'TITLE.Original_File_ID' | translate}}" autocomplete="off"
          (click)="fileManagerOpenForm = true" class="form-control validate-name" id="dataModel.linkMainImageId" />a
      </div>
      <cms-file-manager (itemSelected)="onActionFileSelected($event)" [language]="appLanguage" [isPopup]="true"
        [openDirectUploadView]="true" [(openForm)]="fileManagerOpenForm" [tree]="fileManagerTree"
        [openFilemanagerButtonLabelKey]="'select'" [selectFileType]="selectFileTypeMainImage"
        [openFilemanagerButtonView]="false"></cms-file-manager>
      <!--end:::::::::::::::::::::::::::::::::::::::::cms-body-->
      <!--begin:::::::::::::::::::::::::::::::::::::::::cms-footer-->
      <div class="form-actions" *ngIf="formInfo.formSubmitAllow  && !loading?.display">
        <button type="button" (click)="onFormCancel()"
          class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-gray">
          <i class="ft-x"></i> {{'ACTION.CANCEL' | translate}}
        </button>
        <button type="submit" class="btn font-13 font-600 btn-s m-1 rounded-s shadow-xl border-0 gradient-green"
          (click)="onFormSubmit()" [disabled]="!vform.form.valid">
          <i class="fa fa-check-square-o"></i> {{'ACTION.SAVE' | translate}}
        </button>
      </div>
      <!--end:::::::::::::::::::::::::::::::::::::::::cms-footer-->
    </form>
    <!--Content-->
  </div>
</div>